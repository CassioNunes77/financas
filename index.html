<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bichinho Virtual 90's</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }
        
        #pet-container {
            width: 300px;
            height: 350px;
            background-color: #fff;
            border: 10px solid #ff69b4;
            border-radius: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        #screen {
            flex-grow: 1;
            background-color: #c0e0c0;
            margin: 15px;
            border: 5px solid #888;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        #pet-display {
            width: 120px;
            height: 120px;
            margin: 10px;
            position: relative;
            image-rendering: pixelated;
        }
        
        #pet-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        #status-bars {
            width: 90%;
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-top: 10px;
        }
        
        .status-bar {
            display: flex;
            align-items: center;
        }
        
        .status-label {
            width: 60px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .bar-container {
            flex-grow: 1;
            height: 12px;
            border: 2px solid #000;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .bar-fill {
            height: 100%;
            background-color: #4CAF50;
            width: 100%;
            transition: width 0.3s;
        }
        
        #hunger-bar .bar-fill {
            background-color: #FF5722;
        }
        
        #happiness-bar .bar-fill {
            background-color: #FFC107;
        }
        
        #energy-bar .bar-fill {
            background-color: #2196F3;
        }
        
        #message-box {
            width: 90%;
            height: 40px;
            margin: 10px 0;
            padding: 5px;
            background-color: #fff;
            border: 2px solid #000;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            text-align: center;
            overflow: hidden;
        }
        
        #controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding: 10px;
        }
        
        .control-btn {
            padding: 8px;
            border: none;
            border-radius: 50%;
            background-color: #ff69b4;
            color: white;
            font-weight: bold;
            font-size: 12px;
            cursor: pointer;
            box-shadow: 0 3px 0 #d1488e;
            transition: all 0.1s;
            touch-action: manipulation;
        }
        
        .control-btn:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #d1488e;
        }
        
        #name-display {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        #age-display {
            font-size: 10px;
            margin-bottom: 10px;
        }
        
        .speech-bubble {
            position: absolute;
            background-color: white;
            border: 2px solid black;
            border-radius: 10px;
            padding: 5px 8px;
            font-size: 10px;
            max-width: 80%;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }
        
        .poop {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #8B4513;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            opacity: 0;
            z-index: 5;
        }
        
        #game-over {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            display: none;
            z-index: 20;
        }
        
        #restart-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #ff69b4;
            border: none;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }
        
        #sound-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            z-index: 30;
        }
    </style>
</head>
<body>
    <div id="pet-container">
        <button id="sound-btn">üîä</button>
        <div id="screen">
            <div id="name-display">Tamagotchi</div>
            <div id="age-display">Idade: 0 dias</div>
            <div id="pet-display">
                <img id="pet-image" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI2ZmYzBjMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzNSIgY3k9IjQwIiByPSI1IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjUiIGN5PSI0MCIgcj0iNSIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik00MCA2NSBRIDUwIDc1IDYwIDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==" alt="Bichinho Virtual">
            </div>
            <div id="status-bars">
                <div class="status-bar">
                    <div class="status-label">Fome:</div>
                    <div class="bar-container">
                        <div id="hunger-bar" class="bar-fill"></div>
                    </div>
                </div>
                <div class="status-bar">
                    <div class="status-label">Felicidade:</div>
                    <div class="bar-container">
                        <div id="happiness-bar" class="bar-fill"></div>
                    </div>
                </div>
                <div class="status-bar">
                    <div class="status-label">Energia:</div>
                    <div class="bar-container">
                        <div id="energy-bar" class="bar-fill"></div>
                    </div>
                </div>
            </div>
            <div id="message-box">Ol√°! Sou seu novo bichinho!</div>
        </div>
        <div id="controls">
            <button class="control-btn" id="feed-btn">Comer</button>
            <button class="control-btn" id="play-btn">Brincar</button>
            <button class="control-btn" id="light-btn">Luz</button>
            <button class="control-btn" id="clean-btn">Limpar</button>
            <button class="control-btn" id="medicine-btn">Rem√©dio</button>
            <button class="control-btn" id="discipline-btn">Disciplina</button>
        </div>
        <div id="game-over">
            <div>GAME OVER</div>
            <button id="restart-btn">Recome√ßar</button>
        </div>
    </div>

    <audio id="sound-effect" src="data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU..."></audio>
    <audio id="bg-music" loop src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV" style="display:none"></audio>

    <script>
        // Estado do bichinho
        const pet = {
            name: "Tamagotchi",
            age: 0,
            stage: "baby",
            hunger: 50,
            happiness: 50,
            energy: 80,
            health: 100,
            discipline: 50,
            weight: 30,
            poopCount: 0,
            isSleeping: false,
            isSick: false,
            isDead: false,
            evolutionTimer: 0,
            lastInteraction: Date.now(),
            messages: [
                "Ol√°!",
                "Estou com fome!",
                "Vamos brincar?",
                "Zzzzz...",
                "N√£o me sinto bem...",
                "Adoro voc√™!",
                "Preciso ir ao banheiro!",
                "Que chato!",
                "Yay!",
                "Obrigado!"
            ]
        };

        // Elementos DOM
        const elements = {
            petImage: document.getElementById('pet-image'),
            nameDisplay: document.getElementById('name-display'),
            ageDisplay: document.getElementById('age-display'),
            hungerBar: document.getElementById('hunger-bar'),
            happinessBar: document.getElementById('happiness-bar'),
            energyBar: document.getElementById('energy-bar'),
            messageBox: document.getElementById('message-box'),
            feedBtn: document.getElementById('feed-btn'),
            playBtn: document.getElementById('play-btn'),
            lightBtn: document.getElementById('light-btn'),
            cleanBtn: document.getElementById('clean-btn'),
            medicineBtn: document.getElementById('medicine-btn'),
            disciplineBtn: document.getElementById('discipline-btn'),
            gameOverScreen: document.getElementById('game-over'),
            restartBtn: document.getElementById('restart-btn'),
            soundBtn: document.getElementById('sound-btn'),
            soundEffect: document.getElementById('sound-effect'),
            bgMusic: document.getElementById('bg-music'),
            screen: document.getElementById('screen')
        };

        // Configura√ß√µes
        const config = {
            soundEnabled: true,
            evolutionStages: {
                baby: { duration: 2, next: 'child', image: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI2ZmYzBjMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzNSIgY3k9IjQwIiByPSI1IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjUiIGN5PSI0MCIgcj0iNSIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik00MCA2NSBRIDUwIDc1IDYwIDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==' },
                child: { duration: 5, next: 'teen', image: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI2ZmYzBjMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzNSIgY3k9IjQwIiByPSI1IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjUiIGN5PSI0MCIgcj0iNSIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik00MCA2NSBRIDUwIDgwIDYwIDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0zNSA1NSBMIDI1IDQ1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik02NSA1NSBMIDc1IDQ1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==' },
                teen: { duration: 8, next: 'adult', image: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI2ZmYzBjMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzNSIgY3k9IjQwIiByPSI1IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjUiIGN5PSI0MCIgcj0iNSIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik00MCA2NSBRIDUwIDgwIDYwIDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0zMCA1MCBMIDI1IDQwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik03MCA1MCBMIDc1IDQwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik00NSA0MCBMIDU1IDQwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==' },
                adult: { duration: Infinity, image: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iI2ZmYzBjMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzNSIgY3k9IjQwIiByPSI1IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjUiIGN5PSI0MCIgcj0iNSIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik00MCA2NSBRIDUwIDgwIDYwIDY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0zMCA1MCBMIDIwIDMwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik03MCA1MCBMIDgwIDMwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik00NSA0MCBMIDU1IDQwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxjaXJjbGUgY3g9IjUwIiBjeT0iMzAiIHI9IjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=' }
            },
            sounds: {
                button: 'data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU...',
                happy: 'data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU...',
                sad: 'data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU...',
                eat: 'data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU...',
                sleep: 'data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU...',
                gameOver: 'data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU...'
            }
        };

        // Inicializa√ß√£o
        function init() {
            updateDisplay();
            setInterval(gameLoop, 3000);
            setInterval(poopLoop, 10000);
            setInterval(ageLoop, 60000);
            
            // Event listeners
            elements.feedBtn.addEventListener('click', feedPet);
            elements.playBtn.addEventListener('click', playWithPet);
            elements.lightBtn.addEventListener('click', toggleLight);
            elements.cleanBtn.addEventListener('click', cleanPoop);
            elements.medicineBtn.addEventListener('click', giveMedicine);
            elements.disciplineBtn.addEventListener('click', disciplinePet);
            elements.restartBtn.addEventListener('click', restartGame);
            elements.soundBtn.addEventListener('click', toggleSound);
            
            // Toque para intera√ß√£o adicional
            elements.screen.addEventListener('click', () => {
                if (!pet.isDead) {
                    showRandomMessage();
                    pet.happiness = Math.min(100, pet.happiness + 2);
                    updateDisplay();
                    playSound('happy');
                }
            });
            
            // Iniciar m√∫sica de fundo
            if (config.soundEnabled) {
                elements.bgMusic.play().catch(e => console.log("Autoplay bloqueado:", e));
            }
        }

        // Loop principal do jogo
        function gameLoop() {
            if (pet.isDead) return;
            
            // Diminuir status gradualmente
            pet.hunger = Math.max(0, pet.hunger - (pet.isSleeping ? 1 : 3));
            pet.happiness = Math.max(0, pet.happiness - (pet.isSleeping ? 0 : 2));
            pet.energy = Math.max(0, pet.energy - (pet.isSleeping ? -5 : 2));
            
            // Verificar se est√° doente
            if (pet.hunger < 20 || pet.happiness < 20 || pet.poopCount > 2) {
                if (Math.random() < 0.3) pet.isSick = true;
            }
            
            // Verificar se morreu
            if (pet.hunger <= 0 || pet.happiness <= 0 || (pet.isSick && Math.random() < 0.1)) {
                pet.isDead = true;
                showGameOver();
                playSound('gameOver');
            }
            
            // Evolu√ß√£o
            if (config.evolutionStages[pet.stage].duration !== Infinity && 
                pet.age >= config.evolutionStages[pet.stage].duration) {
                evolvePet();
            }
            
            updateDisplay();
        }

        // Loop de coc√¥
        function poopLoop() {
            if (pet.isDead || pet.isSleeping) return;
            
            if (Math.random() < 0.4 && pet.hunger > 50) {
                pet.poopCount++;
                createPoop();
                showMessage("Preciso ir ao banheiro!");
                playSound('sad');
            }
        }

        // Loop de envelhecimento
        function ageLoop() {
            if (pet.isDead) return;
            
            pet.age++;
            updateDisplay();
            
            // Mensagem aleat√≥ria
            if (Math.random() < 0.3) {
                showRandomMessage();
            }
        }

        // Atualizar display
        function updateDisplay() {
            // Atualizar barras de status
            elements.hungerBar.style.width = `${pet.hunger}%`;
            elements.happinessBar.style.width = `${pet.happiness}%`;
            elements.energyBar.style.width = `${pet.energy}%`;
            
            // Atualizar informa√ß√µes
            elements.nameDisplay.textContent = pet.name;
            elements.ageDisplay.textContent = `Idade: ${pet.age} dias`;
            
            // Atualizar imagem baseada no est√°gio e estado
            let imgSrc = config.evolutionStages[pet.stage].image;
            if (pet.isSleeping) {
                imgSrc = imgSrc.replace('fill="#ffc0c0"', 'fill="#c0c0ff"');
            }
            if (pet.isSick) {
                imgSrc = imgSrc.replace('fill="#ffc0c0"', 'fill="#c0ffc0"');
            }
            elements.petImage.src = imgSrc;
            
            // Atualizar bot√£o de luz
            elements.lightBtn.textContent = pet.isSleeping ? "Acordar" : "Dormir";
        }

        // Alimentar o bichinho
        function feedPet() {
            if (pet.isDead) return;
            
            if (pet.isSleeping) {
                showMessage("Est√° dormindo!");
                playSound('sad');
                return;
            }
            
            pet.hunger = Math.min(100, pet.hunger + 20);
            pet.weight = Math.min(100, pet.weight + 5);
            showMessage("Yummy!");
            playSound('eat');
            
            // Chance de ficar doente se comer demais
            if (pet.hunger > 80 && Math.random() < 0.3) {
                pet.isSick = true;
                showMessage("N√£o me sinto bem...");
                playSound('sad');
            }
            
            updateDisplay();
        }

        // Brincar com o bichinho
        function playWithPet() {
            if (pet.isDead) return;
            
            if (pet.isSleeping) {
                showMessage("Est√° dormindo!");
                playSound('sad');
                return;
            }
            
            if (pet.energy < 20) {
                showMessage("Estou cansado...");
                playSound('sad');
                return;
            }
            
            pet.happiness = Math.min(100, pet.happiness + 15);
            pet.energy = Math.max(0, pet.energy - 10);
            showMessage("Isso √© divertido!");
            playSound('happy');
            
            updateDisplay();
        }

        // Alternar luz (dormir/acordar)
        function toggleLight() {
            if (pet.isDead) return;
            
            pet.isSleeping = !pet.isSleeping;
            
            if (pet.isSleeping) {
                showMessage("Zzzzz...");
                playSound('sleep');
            } else {
                showMessage("Bom dia!");
                playSound('happy');
            }
            
            updateDisplay();
        }

        // Limpar coc√¥
        function cleanPoop() {
            if (pet.isDead) return;
            
            if (pet.poopCount > 0) {
                pet.poopCount = 0;
                document.querySelectorAll('.poop').forEach(poop => poop.remove());
                showMessage("Obrigado por limpar!");
                playSound('happy');
                pet.happiness = Math.min(100, pet.happiness + 10);
            } else {
                showMessage("N√£o h√° nada para limpar!");
                playSound('sad');
            }
            
            updateDisplay();
        }

        // Dar rem√©dio
        function giveMedicine() {
            if (pet.isDead) return;
            
            if (pet.isSick) {
                pet.isSick = false;
                showMessage("Me sinto melhor!");
                playSound('happy');
                pet.health = 100;
            } else {
                showMessage("N√£o estou doente!");
                playSound('sad');
                pet.happiness = Math.max(0, pet.happiness - 5);
            }
            
            updateDisplay();
        }

        // Disciplinar o bichinho
        function disciplinePet() {
            if (pet.isDead) return;
            
            if (pet.poopCount > 0) {
                pet.discipline = Math.min(100, pet.discipline + 10);
                showMessage("Desculpe...");
                playSound('sad');
            } else {
                showMessage("O que eu fiz?");
                playSound('sad');
                pet.happiness = Math.max(0, pet.happiness - 10);
            }
            
            updateDisplay();
        }

        // Mostrar mensagem
        function showMessage(message) {
            elements.messageBox.textContent = message;
            
            // Limpar mensagem ap√≥s 3 segundos
            setTimeout(() => {
                if (elements.messageBox.textContent === message) {
                    elements.messageBox.textContent = "";
                }
            }, 3000);
        }

        // Mostrar mensagem aleat√≥ria
        function showRandomMessage() {
            if (pet.isDead || pet.isSleeping) return;
            
            const randomIndex = Math.floor(Math.random() * pet.messages.length);
            showMessage(pet.messages[randomIndex]);
        }

        // Criar coc√¥ na tela
        function createPoop() {
            const poop = document.createElement('div');
            poop.className = 'poop';
            
            // Posi√ß√£o aleat√≥ria na tela
            const screenRect = elements.screen.getBoundingClientRect();
            const x = Math.random() * (screenRect.width - 30);
            const y = Math.random() * (screenRect.height - 30);
            
            poop.style.left = `${x}px`;
            poop.style.top = `${y}px`;
            poop.style.opacity = '1';
            
            elements.screen.appendChild(poop);
        }

        // Evoluir o bichinho
        function evolvePet() {
            const nextStage = config.evolutionStages[pet.stage].next;
            if (nextStage) {
                pet.stage = nextStage;
                showMessage("Estou crescendo!");
                playSound('happy');
            }
        }

        // Mostrar tela de game over
        function showGameOver() {
            elements.gameOverScreen.style.display = 'flex';
        }

        // Reiniciar o jogo
        function restartGame() {
            // Resetar estado do bichinho
            pet.age = 0;
            pet.stage = "baby";
            pet.hunger = 50;
            pet.happiness = 50;
            pet.energy = 80;
            pet.health = 100;
            pet.discipline = 50;
            pet.weight = 30;
            pet.poopCount = 0;
            pet.isSleeping = false;
            pet.isSick = false;
            pet.isDead = false;
            pet.evolutionTimer = 0;
            pet.lastInteraction = Date.now();
            
            // Limpar coc√¥
            document.querySelectorAll('.poop').forEach(poop => poop.remove());
            
            // Esconder tela de game over
            elements.gameOverScreen.style.display = 'none';
            
            // Mostrar mensagem inicial
            showMessage("Ol√°! Sou seu novo bichinho!");
            playSound('happy');
            
            updateDisplay();
        }

        // Alternar som
        function toggleSound() {
            config.soundEnabled = !config.soundEnabled;
            elements.soundBtn.textContent = config.soundEnabled ? "üîä" : "üîá";
            
            if (config.soundEnabled) {
                elements.bgMusic.play().catch(e => console.log("Autoplay bloqueado:", e));
            } else {
                elements.bgMusic.pause();
            }
        }

        // Tocar efeito sonoro
        function playSound(type) {
            if (!config.soundEnabled) return;
            
            // Simples altern√¢ncia entre sons (em uma implementa√ß√£o real, usaria os dados base64)
            elements.soundEffect.src = config.sounds[type] || config.sounds.button;
            elements.soundEffect.play().catch(e => console.log("Erro ao tocar som:", e));
        }

        // Iniciar o jogo quando a p√°gina carregar
        window.addEventListener('load', init);
    </script>
</body>
</html>
