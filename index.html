import SwiftUI  
import SpriteKit  

class GameScene: SKScene {  
    var bird = SKSpriteNode(imageNamed: "bird")  
    var letters = ["S", "W", "I", "F", "T"]  
    var targetWord = "SWIFT"  
    var currentAttempt = ""  

    override func didMove(to view: SKView) {  
        physicsWorld.gravity = CGVector(dx: 0, dy: -5)  
        setupBird()  
        spawnLetters()  
    }  

    func setupBird() {  
        bird.physicsBody = SKPhysicsBody(circleOfRadius: bird.size.height / 2)  
        bird.position = CGPoint(x: frame.midX, y: frame.midY)  
        addChild(bird)  
    }  

    func spawnLetters() {  
        for letter in letters.shuffled() {  
            let letterNode = SKLabelNode(text: letter)  
            letterNode.position = CGPoint(x: CGFloat.random(in: 0..<size.width),  
                                         y: CGFloat.random(in: size.height/2..<size.height))  
            addChild(letterNode)  
        }  
    }  

    override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {  
        bird.physicsBody?.velocity = CGVector(dx: 0, dy: 0)  
        bird.physicsBody?.applyImpulse(CGVector(dx: 0, dy: 20))  
    }  

    // Lógica de colisão com letras  
    func didBegin(_ contact: SKPhysicsContact) {  
        // Verifica se coletou a letra certa  
        // Atualiza currentAttempt  
        // Se completar a palavra, mostra o link de compartilhamento  
    }  
}  

struct GameView: View {  
    var scene: SKScene {  
        let scene = GameScene()  
        scene.size = CGSize(width: 300, height: 400)  
        return scene  
    }  

    var body: some View {  
        SpriteView(scene: scene)  
            .frame(width: 300, height: 400)  
    }  
}  

// Link de compartilhamento (exemplo)  
func generateShareLink(score: Int, word: String) -> String {  
    return "https://termobird.com/share/\(UUID().uuidString)?score=\(score)&word=\(word)"  
}  
